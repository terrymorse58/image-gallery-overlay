{"version":3,"sources":["webpack://OLCarousel/webpack/bootstrap","webpack://OLCarousel/./CSSEditableProps.js","webpack://OLCarousel/./CSSTemplate.js","webpack://OLCarousel/./HTMLTemplate.js","webpack://OLCarousel/./carousel.js"],"names":["CSSEditableProps","headerPadding","headerParagraphMargin","footerPadding","thumbnailBtnPadding","thumbnailBtnMargin","thumbnailImgHeight","thumbnailImgHoverFilter","thumbnailBorder","thumbnailImgSelectedBorder","thumbnailSelectedOpacity","thumbnailSelectedFilter","CSSTemplate","HTMLTemplate","OverlayCarousel","userEditsToCSSProps","editableCSSProps","JSON","parse","stringify","styleSheet","slice","carouselModal","jqCarouselModal","modalDialog","modalContent","modalHeader","pHeader","modalBody","carouselContainer","imgHero","imgOverlay","overlayDiv","thumbnailsViewport","thumbnailImages","modalFooter","_hasSmoothScrolling","el","getComputedStyle","scrollBehavior","_applyUserEditsToCSSProps","Object","entries","propName","value","_applyCSSPropsToStyleSheet","searchStr","subStr","replace","_appendHTMLTemplateToBody","div","document","createElement","id","innerHTML","body","appendChild","getElementById","$","querySelector","addEventListener","_completeImageFade","heroIndex","Number","dataset","index","thumbSelected","_updateThumbnailsSelectedClass","_scrollThumbnailsViewport","_appendStyleSheetToHead","style","head","_displaySelectedImage","thumbnailImg","animate","inTransition","classList","remove","changeEvt","Event","dispatchEvent","src","add","setTimeout","_listenForEnterKeyOverButton","e","key","elem","target","tagName","btnImg","firstChild","click","_listenForThumbnailImageClicks","evt","elClicked","isThumbnailImg","thumbnails","carouselIndex","cIndex","forEach","img","thumbIndex","_vpScrollJavaScript","scrollDest","timeStep","timeTotal","stepsTotal","Math","round","scrollStart","scrollLeft","scrollTotal","scrollStep","time","scroll","_scrollRecursive","viewportWidth","scrollWidth","vpStyle","vpPaddingLeft","parseFloat","paddingLeft","windowWidth","clientWidth","scrollMax","tnParent","parentElement","tnStyle","tnWidth","offsetWidth","marginLeft","marginRight","thumbnailCenterOffset","offsetLeft","newScrollLeft","populate","name","hrefs","display","imagesLoaded","aspectRatioMin","Infinity","_evalLoadedImage","aspectRatio","width","height","length","paddingBottom","String","contentAspectRatio","offsetHeight","maxWidth","map","href","btnThumb","imgThumb","onload","hasMultipleImages","show","firstThumb","console","error","modal","_init"],"mappings":"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","file":"carousel.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./carousel.js\");\n","// editable css props for carousel modal\n\nconst CSSEditableProps = {\n  headerPadding: '0.25rem 1rem',\n  headerParagraphMargin: '0',\n  footerPadding: '0 1rem',\n  thumbnailBtnPadding: '0',\n  thumbnailBtnMargin: '0 4px', /* must be in 'px' units */\n  thumbnailImgHeight: '60px',\n  thumbnailImgHoverFilter: 'brightness(90%)',\n  thumbnailBorder: 'none',\n  thumbnailImgSelectedBorder: '1px solid #888',\n  thumbnailSelectedOpacity: '60%',\n  thumbnailSelectedFilter: 'grayscale(100%) blur(1px)'\n};\n\nexport default CSSEditableProps;\n","// css template for carousel modal\n\nconst CSSTemplate = `\n    .wsi-overlay {\n    }\n    \n    .wsi-overlay.modal-dialog {\n      margin: 0 auto;\n    }\n\n    .wsi-overlay .modal-header {\n      padding: {{headerPadding}};\n    }\n\n    .wsi-overlay .modal-header p {\n      margin: {{headerParagraphMargin}};\n    }\n\n    .wsi-overlay .modal-footer {\n      padding: {{footerPadding}};\n    }\n\n    .wsi-overlay .div-thumbnails {\n      overflow-x: auto;\n      white-space: nowrap;\n      margin: 0;\n      padding: 8px 16px 12px 16px; /* padding must be 'px' */\n      background-color: transparent;\n      scroll-behavior: smooth;\n    }\n    \n    .wsi-overlay .div-thumbnails button {\n      padding: {{thumbnailBtnPadding}};\n      margin: {{thumbnailBtnMargin}};\n      background-color: transparent;\n      border: none;\n    }\n    \n    .wsi-overlay .div-thumbnails button:focus {\n      outline: 2px solid dodgerblue;\n      filter: brightness(80%);\n    }\n    \n    .wsi-overlay .div-thumbnails img {\n      height: {{thumbnailImgHeight}};\n      width: auto;\n      margin: 0;\n      border: {{thumbnailBorder}};\n    }\n    \n    .wsi-overlay .div-thumbnails img:hover {\n      filter: {{thumbnailImgHoverFilter}};\n    }\n\n    .wsi-overlay .div-thumbnails img.selected {\n      cursor: default;\n      border: {{thumbnailImgSelectedBorder}};\n      opacity: {{thumbnailSelectedOpacity}};\n      filter: {{thumbnailSelectedFilter}};\n    }\n    \n    .carousel-container {\n      margin: 0;\n      position: relative;\n      width: 100%;\n     }\n     .carousel-overlay-div {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: white;\n      opacity: 0;\n     }\n     .carousel-hero {\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: auto;\n     }\n     .carousel-overlay {\n       position: absolute;\n       top: 0;\n       left: 0;\n       /* opacity: 0; */\n       width: 100%;\n       height: auto;\n     }\n     .carousel-fade-in {\n       opacity: 1;\n       transition: opacity 1s;\n     }\n`;\n\nexport default CSSTemplate;\n","// HTML template for carousel modal - a Bootstrap modal with an image carousel\n\nconst HTMLTemplate = `\n  <div\n    id=\"carouselModal\"\n    tabindex=\"-1\"\n    class=\"modal fade\"\n    aria-modal=\"true\"\n    role=\"dialog\"\n    data-wrap=\"false\"\n  >\n    <div\n      class=\"modal-dialog modal-dialog-centered wsi-overlay\"\n      style=\"max-width: calc(-2rem + 58vh)\"\n    >\n      <div class=\"modal-content\">\n      \n        <div class=\"modal-header\">\n          <p><!-- name of product --></p>\n          <button type=\"button\"\n            data-dismiss=\"modal\"\n            aria-label=\"Close\"\n            class=\"close\"\n          >\n            <span aria-hidden=\"true\">Ã—</span>\n          </button>\n        </div> <!-- /.modal-header -->\n        \n        <div class=\"modal-body\">\n          <div\n            id=\"carousel-container\"\n            class=\"carousel-container\"\n            data-aspect-ratio=\"0.6666667\"\n            style=\"padding-bottom: 150%\"\n          >\n            <img\n              id=\"carousel-hero\"\n              class=\"carousel-hero\"\n              src=\"\"\n              alt=\"carousel hero\">\n            <!-- .carousel-overlay-div -->\n            <div\n              class=\"carousel-overlay-div\"\n              data-in-transition=\"false\"\n            >\n              <img\n                id=\"carousel-overlay\"\n                class=\"carousel-overlay\"\n                alt=\"carousel overlay\"\n                src=\"\"\n              >\n            </div> <!-- /.carousel-overlay-div -->\n          </div> <!-- /.carousel-container -->\n        </div> <!-- /.modal-body -->\n\n        <div class=\"modal-footer\">\n          <div id=\"thumbnails-viewport\" class=\"div-thumbnails\"></div>\n        </div> <!-- /.modal-footer -->\n        \n      </div> <!-- /.modal-content -->\n    </div> <!-- /.modal-dialog -->\n  </div> <!-- /.modal -->\n`;\n\nexport default HTMLTemplate;\n","// carousel overlay modal with thumbnails\nimport CSSTemplate from './CSSTemplate.js';\nimport CSSEditableProps from './CSSEditableProps.js';\nimport HTMLTemplate from './HTMLTemplate.js';\n\nfunction OverlayCarousel (userEditsToCSSProps) {\n\n  // make copies of templates\n  const editableCSSProps = JSON.parse(JSON.stringify(CSSEditableProps));\n  let styleSheet = CSSTemplate.slice(0);\n\n  let carouselModal,\n    jqCarouselModal,\n    modalDialog,\n    modalContent,\n    modalHeader,\n    pHeader,\n    modalBody,\n    carouselContainer,\n    imgHero,\n    imgOverlay,\n    overlayDiv,\n    thumbnailsViewport,\n    thumbnailImages = [],\n    modalFooter;\n\n  // returns true if element supports smooth scrolling\n  const _hasSmoothScrolling = (el) => {\n    return getComputedStyle(el).scrollBehavior === 'smooth';\n  }\n\n  // apply user edits to editable css props\n  function _applyUserEditsToCSSProps () {\n    if (typeof userEditsToCSSProps === 'undefined') { return; }\n    for (const [propName, value] of Object.entries(userEditsToCSSProps)) {\n      if (typeof editableCSSProps[propName] === 'undefined') { continue; }\n      editableCSSProps[propName] = value;\n    }\n  }\n\n  // apply all css props to styleSheet\n  function _applyCSSPropsToStyleSheet () {\n    for (const [propName, value] of Object.entries(editableCSSProps)) {\n      const searchStr = `{{${propName}}}`;\n      const subStr = `${value}`;\n      styleSheet = styleSheet.replace(searchStr, subStr);\n    }\n  }\n\n  // append HTML template to <body>\n  function _appendHTMLTemplateToBody () {\n    const div = document.createElement('div');\n    div.id = \"carousel-modal-container\";\n    div.innerHTML = HTMLTemplate;\n    document.body.appendChild(div);\n\n    carouselModal = document.getElementById('carouselModal');\n    jqCarouselModal = $('#carouselModal');\n    modalDialog = document.querySelector('.modal-dialog');\n    modalContent = document.querySelector('.modal-content');\n    modalHeader = document.querySelector('.modal-header');\n    pHeader = carouselModal.querySelector('.modal-header p');\n    modalBody = carouselModal.querySelector('.wsi-overlay .modal-body');\n    carouselContainer = document.getElementById('carousel-container');\n    imgHero = document.getElementById('carousel-hero');\n    imgOverlay = document.getElementById('carousel-overlay');\n    overlayDiv = document.querySelector('.carousel-overlay-div');\n    thumbnailsViewport = document.getElementById('thumbnails-viewport');\n    modalFooter = carouselModal.querySelector('.modal-footer');\n\n    // set up the overlay fader\n    overlayDiv.addEventListener('transitionend', _completeImageFade);\n\n    // react to hero image changes\n    imgHero.addEventListener('change', () => {\n      const heroIndex = Number(imgHero.dataset.index);\n\n      // set (unset) the selected class for each thumbnail image\n      const thumbSelected = _updateThumbnailsSelectedClass(\n        thumbnailImages, heroIndex);\n\n      // scroll the thumbnails container\n      _scrollThumbnailsViewport(thumbSelected);\n    });\n  }\n\n  // append style sheet to <head>\n  function _appendStyleSheetToHead () {\n    const style = document.createElement('style');\n    style.innerHTML = styleSheet;\n    style.id = 'carousel-style';\n    document.head.appendChild(style);\n  }\n\n  /**\n   * display in hero image the selected thumbnail image\n   * @param {HTMLImageElement} thumbnailImg\n   * @param {boolean} animate - animate the hero image transition\n   */\n  function _displaySelectedImage (\n    thumbnailImg,\n    animate = true)\n  {\n    // console.log(`_displaySelectedImage(imgIndex=${thumbnailImg.dataset.index},` +\n    // ` animate=${animate})`);\n\n    // don't animate if overlay is still in transition from an\n    // earlier change\n    if (overlayDiv.dataset.inTransition === \"true\") {\n      // console.log('overlay in transition, disabling fade');\n      overlayDiv.dataset.inTransition = \"false\";\n      overlayDiv.classList.remove('carousel-fade-in');\n      animate = false;\n    }\n\n    // dispatch 'change' event to hero image, which will update thumbnails\n    imgHero.dataset.index = thumbnailImg.dataset.index;\n    const changeEvt = new Event('change');\n    imgHero.dispatchEvent(changeEvt);\n\n    imgOverlay.src = thumbnailImg.src;\n    imgOverlay.dataset.index = thumbnailImg.dataset.index;\n\n    if (animate) {\n      // fade in overlay\n      overlayDiv.dataset.inTransition = \"true\";\n      overlayDiv.classList.add('carousel-fade-in');\n    } else {\n      // just clean up without animation\n      _completeImageFade();\n    }\n  }\n\n  // clean up display elements when image fade transition completes\n  function _completeImageFade () {\n    // console.log('_completeImageFade()');\n\n    overlayDiv.dataset.inTransition = \"false\";\n\n    // copy overlay image to hero image\n    imgHero.src = imgOverlay.src;\n    imgHero.dataset.index = imgOverlay.dataset.index;\n\n    // clean up overlay (delayed to prevent UI flash)\n    setTimeout(() => {\n      imgOverlay.src = \"\";\n      imgOverlay.dataset.index = null;\n      overlayDiv.classList.remove('carousel-fade-in');\n    }, 200);\n  }\n\n  // enter key press over thumbnail button emit thumbnail image click\n  function _listenForEnterKeyOverButton () {\n    thumbnailsViewport.addEventListener('keydown', (e) => {\n      if (e.key !== 'Enter') { return; }\n      const elem = e.target;\n      if (elem.tagName !== 'BUTTON') { return; }\n      const btnImg = elem.firstChild;\n      if (!btnImg || btnImg.tagName !== 'IMG') { return; }\n      btnImg.click();\n    });\n  }\n\n  // respond to clicks on thumbnail images\n  function _listenForThumbnailImageClicks () {\n    thumbnailsViewport.addEventListener('click', (evt) => {\n      const elClicked = evt.target;\n      const isThumbnailImg = (el) => el.tagName === 'IMG'\n        && typeof el.dataset.index !== 'undefined';\n      if (isThumbnailImg(elClicked) === false) { return; }\n      _displaySelectedImage(elClicked);\n    });\n  }\n\n  // update the \"selected\" class of each thumbnail image\n  function _updateThumbnailsSelectedClass (thumbnails, carouselIndex) {\n    const cIndex = Number(carouselIndex);\n    let thumbSelected = null;\n    thumbnails.forEach(img => {\n      const thumbIndex = +(img.dataset.index);\n      if (thumbIndex === cIndex) {\n        thumbSelected = img;\n        thumbSelected.classList.add('selected');\n        return;\n      }\n      img.classList.remove('selected');\n    });\n    return thumbSelected;\n  }\n\n  // scroll viewport using vanilla JavaScript\n  function _vpScrollJavaScript (scrollDest) {\n    // simulate scroll feature with vanilla JavaScript\n    const timeStep = 20;\n    const timeTotal = 400;\n    const stepsTotal = Math.round(timeTotal/timeStep);\n    const scrollStart = thumbnailsViewport.scrollLeft;\n    const scrollTotal = scrollDest - scrollStart;\n    const scrollStep = Math.round(scrollTotal/stepsTotal);\n    let time = timeStep, scroll = scrollStart + scrollStep;\n\n    const _scrollRecursive = () => {\n      if (time >= timeTotal) {\n        thumbnailsViewport.scrollLeft = scrollDest;\n        return;\n      }\n      thumbnailsViewport.scrollLeft = scroll;\n      time += timeStep;\n      scroll += scrollStep;\n      setTimeout(_scrollRecursive, timeStep);\n    }\n\n    if (scrollTotal !== 0) { _scrollRecursive(); }\n  }\n\n  /**\n   * scroll thumbnails viewport to show `thumbnailImg` in center of window\n   * @param {HTMLImageElement} thumbnailImg - thumbnail's img element\n   */\n  function _scrollThumbnailsViewport (thumbnailImg) {\n    if (!thumbnailImg) { return; }\n    const viewportWidth = thumbnailsViewport.scrollWidth;\n    const vpStyle = getComputedStyle(thumbnailsViewport);\n    const vpPaddingLeft = parseFloat(vpStyle.paddingLeft);\n    const windowWidth = thumbnailsViewport.clientWidth;\n    const scrollMax = viewportWidth - windowWidth;\n    const tnParent = thumbnailImg.parentElement; // thumbnailImg parent is button\n    const tnStyle = getComputedStyle(tnParent);\n    const tnWidth = tnParent.offsetWidth\n      + parseFloat(tnStyle.marginLeft) + parseFloat(tnStyle.marginRight);\n    const thumbnailCenterOffset = tnParent.offsetLeft\n      + (tnParent.offsetWidth / 2);\n\n    // console.log(`    viewportWidth: ${thumbnailsViewport.scrollWidth}\n    // vpPaddingLeft: ${vpPaddingLeft}\n    // windowWidth: ${windowWidth}\n    // scrollMax: ${scrollMax}\n    // tnParent.offsetLeft: ${tnParent.offsetLeft}\n    // tnParent.offsetWidth: ${tnParent.offsetWidth}\n    // tnWidth: ${tnWidth}\n    // thumbnailCenterOffset: ${thumbnailCenterOffset}`);\n\n    // scroll viewport to position thumbnail in center of viewport window\n    let newScrollLeft = thumbnailCenterOffset\n      - Math.round((windowWidth+tnWidth) / 2) + vpPaddingLeft;\n    if (newScrollLeft < 0) { newScrollLeft = 0; }\n    if (newScrollLeft > scrollMax) { newScrollLeft = scrollMax; }\n\n    // console.log(`  newScrollLeft: ${newScrollLeft}`);\n\n    if (_hasSmoothScrolling(thumbnailsViewport)) {\n      // console.log('scrolling with Element.scrollLeft = newScrollLeft');\n      thumbnailsViewport.scrollLeft = newScrollLeft;\n    } else {\n      _vpScrollJavaScript(newScrollLeft);\n    }\n\n    // console.log(`after scrollLeft: ${thumbnailsViewport.scrollLeft}`);\n  }\n\n  // populate overlay with name, carousel and thumbnail images\n  function populate (name, hrefs) {\n    // console.log('populate()')\n\n    // display the modal (invisibly) to obtain its dimensions\n    carouselModal.style.display = 'block';\n\n    pHeader.innerHTML = name;\n\n    // detect aspect ratio of image when it receives a 'load' event\n    let imagesLoaded = 0;\n    let aspectRatioMin = Infinity;\n    function _evalLoadedImage () {\n      const img = this;\n      let aspectRatio;\n\n      imagesLoaded++;\n      if (img.width === 0 || img.height === 0) { return; }\n\n      aspectRatio = img.width / img.height;\n      img.dataset.aspectRatio = aspectRatio;\n      aspectRatioMin = (aspectRatio < aspectRatioMin)\n        ? aspectRatio : aspectRatioMin;\n\n      // console.log(`_evalLoadedImage index: ${img.dataset.index}, aspectRatio: ${aspectRatio}, min: ${aspectRatioMin}`);\n\n      if (imagesLoaded < hrefs.length) { return; }\n      if (aspectRatioMin === Infinity) { return; }\n\n      // all images loaded: set the padding-bottom of container to match aspect\n      // ratio\n      carouselContainer.style.paddingBottom = Math.round(\n        1.0 / aspectRatioMin * 100\n      ) + '%';\n      carouselContainer.dataset.aspectRatio = String(aspectRatioMin);\n\n      const contentAspectRatio =\n        modalContent.offsetWidth / modalContent.offsetHeight;\n      modalDialog.style.maxWidth = `calc(-2rem + ${\n        Math.round(contentAspectRatio * 100)\n      }vh)`;\n\n      // console.log(`  modalContent.offsetWidth: ${modalContent.offsetWidth}\n      //   modalContent.offsetHeight: ${modalContent.offsetHeight}\n      //   aspectRatioMin: ${aspectRatioMin}\n      //   contentAspectRatio: ${contentAspectRatio}\n      //   modalDialog.style.maxWidth: ${modalDialog.style.maxWidth}`);\n\n      // un-display the modal\n      carouselModal.style.display = \"none\";\n    }\n\n    // populate the thumbnails\n    thumbnailsViewport.innerHTML = '';\n    thumbnailImages = hrefs.map((href, index) => {\n      const btnThumb = document.createElement('button');\n      thumbnailsViewport.appendChild(btnThumb);\n\n      const imgThumb = document.createElement('img');\n      imgThumb.onload = _evalLoadedImage;\n      imgThumb.dataset.index = index;\n      imgThumb.src = href;\n      btnThumb.appendChild(imgThumb);\n\n      return imgThumb;\n    });\n\n    // show thumbnails when there are multiple images\n    const hasMultipleImages = hrefs.length > 1;\n    modalFooter.style.display = hasMultipleImages ? '' : 'none';\n\n  }\n\n  // show the carousel modal\n  function show () {\n\n    overlayDiv.dataset.inTransition = \"false\";\n\n    // make the display changes *before* showing the modal\n    const firstThumb = thumbnailsViewport.querySelector('img');\n    if (firstThumb === null) {\n      console.error('no thumbnail images found');\n      return;\n    }\n    _displaySelectedImage(firstThumb, false);\n\n    jqCarouselModal.modal('show');\n  }\n\n\n  function _init () {\n    _applyUserEditsToCSSProps();\n    _applyCSSPropsToStyleSheet();\n    _appendStyleSheetToHead();\n    _appendHTMLTemplateToBody();\n    _listenForThumbnailImageClicks();\n    _listenForEnterKeyOverButton();\n  }\n\n  // initialize\n  _init();\n\n  return {\n    populate,\n    show\n  };\n\n}\n\nexport default OverlayCarousel;\n"],"sourceRoot":""}